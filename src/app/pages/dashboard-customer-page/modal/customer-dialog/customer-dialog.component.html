<div class="dialog-container">
  <h2 mat-dialog-title>{{ dialogTitle }}</h2>

  <mat-dialog-content>
    <form [formGroup]="customerForm" class="customer-form">
      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Customer Name</mat-label>
        <input matInput formControlName="name" placeholder="Enter customer name" />
        <mat-icon matPrefix>person</mat-icon>
        <mat-error *ngIf="customerForm.get('name')?.hasError('required')">
          Name is required
        </mat-error>
        <mat-error *ngIf="customerForm.get('name')?.hasError('minlength')">
          Name must be at least 3 characters
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Address</mat-label>
        <textarea matInput formControlName="address" placeholder="Enter address" rows="3"></textarea>
        <mat-icon matPrefix>home</mat-icon>
        <mat-error *ngIf="customerForm.get('address')?.hasError('required')">
          Address is required
        </mat-error>
        <mat-error *ngIf="customerForm.get('address')?.hasError('minlength')">
          Address must be at least 5 characters
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Salary</mat-label>
        <input matInput type="number" formControlName="salary" placeholder="Enter salary" />
        <mat-icon matPrefix>attach_money</mat-icon>
        <mat-error *ngIf="customerForm.get('salary')?.hasError('required')">
          Salary is required
        </mat-error>
        <mat-error *ngIf="customerForm.get('salary')?.hasError('min')">
          Salary must be positive
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Contact Number</mat-label>
        <input matInput formControlName="contact" placeholder="0771234567" maxlength="10" />
        <mat-icon matPrefix>phone</mat-icon>
        <mat-error *ngIf="customerForm.get('contact')?.hasError('required')">
          Contact is required
        </mat-error>
        <mat-error *ngIf="customerForm.get('contact')?.hasError('pattern')">
          Contact must be 10 digits
        </mat-error>
      </mat-form-field>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()" [disabled]="isLoading">
      Cancel
    </button>
    <button mat-raised-button color="primary" (click)="onSubmit()" [disabled]="customerForm.invalid || isLoading">
      <mat-icon *ngIf="!isLoading">{{ isEditMode ? 'update' : 'save' }}</mat-icon>
      <span *ngIf="isLoading">Processing...</span>
      <span *ngIf="!isLoading">{{ isEditMode ? 'Update' : 'Create' }}</span>
    </button>
  </mat-dialog-actions>
</div>
